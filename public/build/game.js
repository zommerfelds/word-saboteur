// Generated by Haxe 4.0.5
(function ($hx_exports, $global) { "use strict";
$hx_exports["game"] = $hx_exports["game"] || {};
var game_App = $hx_exports["game"]["App"] = function() { };
game_App.setText = function(str) {
	window.document.getElementById("my-text").textContent = str;
};
game_App.createGame = function() {
	if(game_App.db == null) {
		console.log("src/hx/game/App.hx:15:","Error: db is null");
		return;
	}
	game_App.db.collection("games").add({ "version" : 1}).then(function(doc) {
		console.log("src/hx/game/App.hx:22:","created game: " + doc.id);
		return window.location.href = "?game=" + doc.id;
	});
};
game_App.main = function() {
	var config = { apiKey : "AIzaSyCn_j8KKaUcUkOWOLQzmx4_XhjFJ0LrKmg", authDomain : "word-saboteur.firebaseapp.com", projectId : "word-saboteur", storageBucket : "word-saboteur.appspot.com", messagingSenderId : "823899627043", appId : "1:823899627043:web:f303532e7e235766fadb96", measurementId : "G-HZCQNYVN74"};
	game_App.app = firebase.initializeApp(config);
	game_App.db = game_App.app.firestore();
	var urlParams = new URLSearchParams(window.location.search);
	var gameUrlParam = urlParams.get("game");
	if(gameUrlParam == null) {
		window.document.getElementById("loading").style.display = "none";
		window.document.getElementById("mainmenu").style.display = "block";
	} else {
		window.document.getElementById("loading").style.display = "none";
		window.document.getElementById("game").style.display = "block";
		game_App.setText("You joined game " + gameUrlParam);
	}
};
game_App.main();
})(typeof exports != "undefined" ? exports : typeof window != "undefined" ? window : typeof self != "undefined" ? self : this, {});
